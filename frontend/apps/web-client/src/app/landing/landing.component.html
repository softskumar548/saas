<main class="min-h-screen flex flex-col font-sans text-gray-900 bg-slate-50" role="main">
  <!-- Navbar -->
  <nav
    class="flex items-center justify-between px-8 py-4 bg-white border-b border-gray-100 shadow-sm sticky top-0 z-50">
    <div class="flex items-center gap-3">
      <div class="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center text-white font-bold text-xs"
        aria-hidden="true">QR</div>
      <span class="text-xl font-bold tracking-tight text-blue-900">QR Feedback</span>
    </div>
    <div class="flex items-center gap-4">
      <ng-container *ngIf="!authService.isAuthenticated()">
        <button (click)="openLogin()"
          class="text-sm font-medium text-gray-700 hover:text-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded p-1 cursor-pointer">Log
          in</button>
        <button (click)="openLogin()"
          class="px-5 py-2.5 text-sm font-bold text-white bg-blue-600 rounded-full hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-300 transition shadow-lg shadow-blue-600/20 cursor-pointer"
          aria-label="Get Started with Free Trial">Get Started</button>
      </ng-container>

      <ng-container *ngIf="authService.isAuthenticated()">
        <a routerLink="/dashboard" class="text-sm font-medium text-gray-700 hover:text-blue-700 mr-2">Dashboard</a>
        <div class="relative group">
          <button class="flex items-center gap-2 focus:outline-none">
            <div
              class="w-8 h-8 rounded-full bg-slate-200 flex items-center justify-center text-slate-600 font-bold border border-slate-300">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd" />
              </svg>
            </div>
          </button>
          <div
            class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 border border-gray-100 hidden group-hover:block hover:block">
            <button (click)="logout()"
              class="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Sign out</button>
          </div>
        </div>
      </ng-container>
    </div>
  </nav>

  <!-- Hero Section -->
  <header class="relative px-8 py-24 lg:py-32 overflow-hidden bg-white">
    <div
      class="absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-10 pointer-events-none">
    </div>
    <div class="relative z-10 max-w-5xl mx-auto text-center">
      <h1 class="text-5xl lg:text-7xl font-extrabold tracking-tight text-slate-900 mb-8 leading-tight">
        Turn Physical Traffic <br class="hidden md:block" />
        <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-700 to-indigo-700 drop-shadow-sm">Into
          Digital Insights</span>
      </h1>
      <p class="text-xl text-gray-700 mb-12 max-w-3xl mx-auto leading-relaxed">
        Place <span class="font-semibold text-gray-900">smart QR codes</span> at your locations. Collect real-time
        feedback. <br class="hidden md:block" />
        Let our AI analyze sentiment instantly so you can improve customer satisfaction.
      </p>
      <div class="flex flex-col sm:flex-row items-center justify-center gap-5">
        <button (click)="openLogin()"
          class="w-full sm:w-auto px-8 py-4 text-lg font-bold text-white bg-blue-600 rounded-full hover:bg-blue-700 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-blue-300 shadow-xl shadow-blue-600/30 transition transform duration-200 cursor-pointer">Start
          Free Trial</button>
        <a href="#features"
          class="w-full sm:w-auto px-8 py-4 text-lg font-bold text-slate-700 bg-white border-2 border-slate-200 rounded-full hover:bg-slate-50 hover:border-slate-300 focus:outline-none focus:ring-4 focus:ring-slate-200 transition duration-200 text-center flex items-center justify-center">Learn
          More</a>
      </div>
    </div>
  </header>

  <!-- Features -->
  <section id="features" class="py-24 bg-slate-50">
    <div class="max-w-6xl mx-auto px-8">
      <div class="text-center mb-16">
        <h2 class="text-base text-blue-600 font-bold tracking-wide uppercase mb-2">Features</h2>
        <p class="text-3xl font-extrabold text-slate-900 sm:text-4xl">Everything you need to grow</p>
      </div>
      <div class="grid md:grid-cols-3 gap-12">
        <article
          class="p-8 bg-white rounded-2xl border border-slate-100 shadow-sm hover:shadow-xl hover:-translate-y-1 transition duration-300">
          <div class="w-14 h-14 bg-blue-50 text-blue-600 rounded-2xl flex items-center justify-center mb-6 text-3xl"
            role="img" aria-label="Location Icon">üìç</div>
          <h3 class="text-xl font-bold mb-3 text-slate-900">Context Aware</h3>
          <p class="text-gray-600 leading-relaxed">Know exactly which table, room, or branch feedback is coming from
            automatically. No need for customers to type it in.</p>
        </article>
        <article
          class="p-8 bg-white rounded-2xl border border-slate-100 shadow-sm hover:shadow-xl hover:-translate-y-1 transition duration-300">
          <div class="w-14 h-14 bg-purple-50 text-purple-600 rounded-2xl flex items-center justify-center mb-6 text-3xl"
            role="img" aria-label="Robot Icon">ü§ñ</div>
          <h3 class="text-xl font-bold mb-3 text-slate-900">AI Sentiment</h3>
          <p class="text-gray-600 leading-relaxed">Our AI reads every comment and flags negative sentiment instantly.
            Get alerted before a review hits Google Maps.</p>
        </article>
        <article
          class="p-8 bg-white rounded-2xl border border-slate-100 shadow-sm hover:shadow-xl hover:-translate-y-1 transition duration-300">
          <div class="w-14 h-14 bg-green-50 text-green-600 rounded-2xl flex items-center justify-center mb-6 text-3xl"
            role="img" aria-label="Chart Icon">üìä</div>
          <h3 class="text-xl font-bold mb-3 text-slate-900">Real-time Stats</h3>
          <p class="text-gray-600 leading-relaxed">Live dashboards show you trends as they happen. Visualize NPS and
            CSAT scores over time. Export data to CSV anytime.</p>
        </article>
      </div>
    </div>
  </section>

  <!-- Pricing -->
  <section class="py-24 bg-slate-900 text-white">
    <div class="max-w-6xl mx-auto px-8 text-center">
      <h2 class="text-3xl font-extrabold mb-4">Simple, Transparent Pricing</h2>
      <p class="text-gray-400 mb-16 text-lg">Start for free, upgrade as you grow.</p>

      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 justify-center"
        *ngIf="plans$ | async as plans; else loading">
        <div *ngFor="let plan of plans"
          class="p-8 rounded-3xl border border-slate-700 bg-slate-800 hover:bg-slate-750 hover:border-blue-500/50 transition flex flex-col text-left relative group">
          <div
            class="absolute inset-0 bg-blue-500/5 opacity-0 group-hover:opacity-100 pointer-events-none rounded-3xl transition">
          </div>
          <h3 class="text-2xl font-bold mb-2">{{ plan.name }}</h3>
          <div class="text-4xl font-extrabold mb-6">${{ plan.price_monthly }}<span
              class="text-lg font-normal text-gray-400">/mo</span></div>
          <ul class="space-y-4 mb-8 flex-1 text-gray-300">
            <li class="flex items-center gap-3">
              <span class="text-green-400 font-bold">‚úì</span> <span class="text-white">{{ plan.max_forms }}</span>
              Active Forms
            </li>
            <li class="flex items-center gap-3">
              <span class="text-green-400 font-bold">‚úì</span> <span class="text-white">{{ plan.max_responses_per_month
                }}</span> Responses/mo
            </li>
            <li class="flex items-center gap-3">
              <span class="text-green-400 font-bold">‚úì</span> AI Analysis Included
            </li>
          </ul>
          <button (click)="openLogin()"
            class="block w-full py-4 text-center font-bold bg-white text-slate-900 rounded-xl hover:bg-blue-50 focus:outline-none focus:ring-4 focus:ring-blue-500/50 transition cursor-pointer"
            [attr.aria-label]="'Choose ' + plan.name + ' plan'">Choose {{ plan.name }}</button>
        </div>
      </div>

      <ng-template #loading>
        <div class="flex justify-center py-12">
          <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-white"></div>
        </div>
      </ng-template>
    </div>
  </section>

  <!-- Footer -->
  <footer class="py-12 bg-white border-t border-gray-100 text-center">
    <div class="max-w-6xl mx-auto px-8 flex flex-col md:flex-row justify-between items-center gap-6">
      <div class="flex items-center gap-2">
        <div class="w-6 h-6 bg-blue-600 rounded flex items-center justify-center text-white text-[10px] font-bold"
          aria-hidden="true">QR</div>
        <span class="font-bold text-gray-900">QR Feedback SaaS</span>
      </div>
      <p class="text-gray-500 text-sm">&copy; 2026 Novatek. All rights reserved.</p>
      <div class="flex gap-6">
        <a href="#" class="text-gray-400 hover:text-blue-600 transition">Privacy</a>
        <a href="#" class="text-gray-400 hover:text-blue-600 transition">Terms</a>
      </div>
    </div>
  </footer>

  <lib-login *ngIf="showLogin" [asModal]="true" (close)="showLogin = false"></lib-login>
</main>